function manageContact(n,t,i,r,u,f,e,o){r.searchQuery="";r.searchResults=[];r.defaultSearch=!1;r.selectedCustomer="";r.movedate=new Date;r.hear="";r.estimatedDate=new Date;r.statesCodes=[];r.states=[];r.newBusinessAccount={};r.newPersonAccount={};r.newAccountType="";r.GetCustomerFromQuote=function(n){i.GetCustomerFromQuote(n).then(function(n){r.selectedCustomer=n})};r.InitNewAccount=function(n){r.newAccount=n=="person"?r.newPersonAccount:r.newBusinessAccount;r.newAccountType=n};r.SaveAccount=function(){n.AddAccount(null,r.newAccount,r.newAccountType).then(function(n){r.selectedCustomer=n},function(){})};r.NewBusiness=function(){n.NewBusinessObject().then(function(n){r.newBusinessAccount=JSON.parse(n);delete r.newBusinessAccount.Account.Lookup},function(){})};r.NewPerson=function(){n.NewPersonObject().then(function(n){r.newPersonAccount=JSON.parse(n);delete r.newPersonAccount.Account.Lookup},function(){})};r.GetStates=function(){t.GetStates().then(function(n){$.each(JSON.parse(n),function(n,t){r.statesCodes=r.statesCodes.concat(t);r.states=r.states.concat(n)})})};r.SearchForCustomer=function(n){r.searchResults=null;i.GetPeopleJSONSearch(n).then(function(n){r.searchResults=n;r.defaultSearch===!0&&(r.SetSelectedCustomer(n[1].AccountID),r.defaultSearch=!1)},function(){alert("Error : customerSearch")})};r.SetSelectedCustomer=function(n){i.GetCustomerShortInformation(n).then(function(n){r.selectedCustomer=n},function(){alert("Error : GetCustomerShortInformation")})};r.addNewShipper=function(n){i.SaveShipper(n.AccountID,r.$parent.selectedQuote.QuoteID).then(function(){o.path("/contacts")},function(){})};r.StartQuote=function(){var t=r.$parent.customerID,n={shippingAccount:r.selectedCustomer.AccountID,AccountID:r.selectedCustomer.AccountID,movedate:r.movedate,referralmethod:r.hear};i.AddQuote(n).then(function(n){window.location.assign("/new/quote?lookup="+n.lookup)})};r.Init=function(){r.canAddShipper=r.$parent.canAddShipper;r.NewBusiness();r.defaultSearch=!0;r.SearchForCustomer("");r.GetStates()};r.Init()}quoteApp.controller("manageContact",["accountFactory","addressFactory","quoteFactory","$scope","$element","$window","$timeout","$location",manageContact]);