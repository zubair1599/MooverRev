(function(n){function t(n){function h(n,r,f){var e=null;if(c(r)&&(w(r),l(n),a(n),p(r),i>=2)){var o=b(r),h=0,v=k();h=d(o)?-1*s(t,o-1,Math.floor(i/2)-1)-v:s(t,Math.ceil(i/2),o-2)+v+u*2;e=g(f,r,h);f.points=e}return e}function c(n){return n.bars!=null&&n.bars.show&&n.bars.order!=null}function l(n){var i=r?n.getPlaceholder().innerHeight():n.getPlaceholder().innerWidth(),t=r?o(n.getData(),1):o(n.getData(),0),u=t[1]-t[0];e=u/i}function o(n,t){for(var r=[],i=0;i<n.length;i++)r[0]=n[i].data[0][t],r[1]=n[i].data[n[i].data.length-1][t];return r}function a(n){t=v(n.getData());i=t.length}function v(n){for(var i=[],t=0;t<n.length;t++)n[t].bars.order!=null&&n[t].bars.show&&i.push(n[t]);return i.sort(y)}function y(n,t){var i=n.bars.order,r=t.bars.order;return i<r?-1:i>r?1:0}function p(n){f=n.bars.lineWidth?n.bars.lineWidth:2;u=f*e}function w(n){n.bars.horizontal&&(r=!0)}function b(n){for(var r=0,i=0;i<t.length;++i)if(n==t[i]){r=i;break}return r+1}function k(){var n=0;return i%2!=0&&(n=t[Math.ceil(i/2)].bars.barWidth/2),n}function d(n){return n<=Math.ceil(i/2)}function s(n,t,i){for(var f=0,r=t;r<=i;r++)f+=n[r].bars.barWidth+u*2;return f}function g(n,t,i){for(var o=n.pointsize,u=n.points,e=0,f=r?1:0;f<u.length;f+=o)u[f]+=i,t.data[e][3]=u[f],e++;return u}var t,i,f,u,e=1,r=!1;n.hooks.processDatapoints.push(h)}n.plot.plugins.push({init:t,options:{series:{bars:{order:null}}},name:"orderBars",version:"0.2"})})(jQuery);