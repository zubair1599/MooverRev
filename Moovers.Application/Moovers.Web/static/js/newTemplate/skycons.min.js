(function(n){"use strict";function w(n,i,r,u){n.beginPath();n.arc(i,r,u,0,t,!1);n.fill()}function u(n,t,i,r,u){n.beginPath();n.moveTo(t,i);n.lineTo(r,u);n.stroke()}function b(n,i,r,u,f,e,o,s){var h=Math.cos(i*t),c=Math.sin(i*t);s-=o;w(n,r-c*f,u+h*e+s*.5,o+(1-h*.5)*s)}function e(n,t,i,r,u,f,e,o){for(var s=5;s--;)b(n,t+s/5,i,r,u,f,e,o)}function f(n,t,i,r,u,f,o){t/=3e4;var s=u*.21,h=u*.12,c=u*.24,l=u*.28;n.fillStyle=o;e(n,t,i,r,s,h,c,l);n.globalCompositeOperation="destination-out";e(n,t,i,r,s,h,c-f,l-f);n.globalCompositeOperation="source-over"}function a(n,i,r,f,e,o,s){i/=12e4;var p=e*.25-o*.5,v=e*.32+o*.5,y=e*.5-o*.5,h,c,l,a;for(n.strokeStyle=s,n.lineWidth=o,n.lineCap="round",n.lineJoin="round",n.beginPath(),n.arc(r,f,p,0,t,!1),n.stroke(),h=8;h--;)c=(i+h/8)*t,l=Math.cos(c),a=Math.sin(c),u(n,r+l*v,f+a*v,r+l*y,f+a*y)}function v(n,i,r,u,f,e,o){i/=15e3;var h=f*.29-e*.5,a=f*.05,c=Math.cos(i*t),s=c*t/-16;n.strokeStyle=o;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";r+=c*a;n.beginPath();n.arc(r,u,h,s+t/8,s+t*7/8,!1);n.arc(r+Math.cos(s)*h*l,u+Math.sin(s)*h*l,h,s+t*5/8,s+t*3/8,!0);n.closePath();n.stroke()}function k(n,i,r,u,f,e,o){i/=1350;var a=f*.16,v=t*11/12,y=t*7/12,s,h,c,l;for(n.fillStyle=o,s=4;s--;)h=(i+s/4)%1,c=r+(s-1.5)/1.5*(s===1||s===2?-1:1)*a,l=u+h*h*f,n.beginPath(),n.moveTo(c,l-e*1.5),n.arc(c,l,e*.75,v,y,!1),n.fill()}function d(n,i,r,f,e,o,s){i/=750;var v=e*.1875,y=t*11/12,p=t*7/12,h,a,c,l;for(n.strokeStyle=s,n.lineWidth=o*.5,n.lineCap="round",n.lineJoin="round",h=4;h--;)a=(i+h/4)%1,c=Math.floor(r+(h-1.5)/1.5*(h===1||h===2?-1:1)*v)+.5,l=f+a*e,u(n,c,l-o*1.5,c,l+o*1.5)}function g(n,i,r,f,e,o,s){i/=3e3;var it=e*.16,l=o*.75,a=i*t*.7,p=Math.cos(a)*l,w=Math.sin(a)*l,b=a+t/3,k=Math.cos(b)*l,d=Math.sin(b)*l,g=a+t*2/3,nt=Math.cos(g)*l,tt=Math.sin(g)*l,v,y,h,c;for(n.strokeStyle=s,n.lineWidth=o*.5,n.lineCap="round",n.lineJoin="round",v=4;v--;)y=(i+v/4)%1,h=r+Math.sin((y+v/4)*t)*it,c=f+y*e,u(n,h-p,c-w,h+p,c+w),u(n,h-k,c-d,h+k,c+d),u(n,h-nt,c-tt,h+nt,c+tt)}function nt(n,t,i,r,u,f,o){t/=3e4;var s=u*.21,h=u*.06,c=u*.21,l=u*.28;n.fillStyle=o;e(n,t,i,r,s,h,c,l);n.globalCompositeOperation="destination-out";e(n,t,i,r,s,h,c-f,l-f);n.globalCompositeOperation="source-over"}function tt(n,i,r,u,f,e,o){var l=f/8,h=l/3,c=2*h,s=i%1*t,a=Math.cos(s),v=Math.sin(s);n.fillStyle=o;n.strokeStyle=o;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";n.beginPath();n.arc(r,u,l,s,s+Math.PI,!1);n.arc(r-h*a,u-h*v,c,s+Math.PI,s,!1);n.arc(r+c*a,u+c*v,h,s+Math.PI,s,!0);n.globalCompositeOperation="destination-out";n.fill();n.globalCompositeOperation="source-over";n.stroke()}function p(n,t,i,r,u,f,e,o,s){t/=2500;var c=y[e],w=(t+e-h[e].start)%o,a=(t+e-h[e].end)%o,b=(t+e)%o,p,l,k,v;if(n.strokeStyle=s,n.lineWidth=f,n.lineCap="round",n.lineJoin="round",w<1){if(n.beginPath(),w*=c.length/2-1,p=Math.floor(w),w-=p,p*=2,p+=2,n.moveTo(i+(c[p-2]*(1-w)+c[p]*w)*u,r+(c[p-1]*(1-w)+c[p+1]*w)*u),a<1){for(a*=c.length/2-1,l=Math.floor(a),a-=l,l*=2,l+=2,v=p;v!==l;v+=2)n.lineTo(i+c[v]*u,r+c[v+1]*u);n.lineTo(i+(c[l-2]*(1-a)+c[l]*a)*u,r+(c[l-1]*(1-a)+c[l+1]*a)*u)}else for(v=p;v!==c.length;v+=2)n.lineTo(i+c[v]*u,r+c[v+1]*u);n.stroke()}else if(a<1){for(n.beginPath(),a*=c.length/2-1,l=Math.floor(a),a-=l,l*=2,l+=2,n.moveTo(i+c[0]*u,r+c[1]*u),v=2;v!==l;v+=2)n.lineTo(i+c[v]*u,r+c[v+1]*u);n.lineTo(i+(c[l-2]*(1-a)+c[l]*a)*u,r+(c[l-1]*(1-a)+c[l+1]*a)*u);n.stroke()}b<1&&(b*=c.length/2-1,k=Math.floor(b),b-=k,k*=2,k+=2,tt(n,t,i+(c[k-2]*(1-b)+c[k]*b)*u,r+(c[k-1]*(1-b)+c[k+1]*b)*u,u,f,s))}var o,s,y,h,r;(function(){var t=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,i=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame;t&&i?(o=function(n){function r(){i.value=t(r);n()}var i={value:null};return r(),i},s=function(n){i(n.value)}):(o=setInterval,s=clearInterval)})();var c=500,i=.08,t=2*Math.PI,l=2/Math.sqrt(2);y=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]];h=[{start:.36,end:.11},{start:.56,end:.16}];r=function(n){this.list=[];this.interval=null;this.color=n&&n.color?n.color:"black";this.resizeClear=!!(n&&n.resizeClear)};r.CLEAR_DAY=function(n,t,r){var u=n.canvas.width,f=n.canvas.height,e=Math.min(u,f);a(n,t,u*.5,f*.5,e,e*i,r)};r.CLEAR_NIGHT=function(n,t,r){var u=n.canvas.width,f=n.canvas.height,e=Math.min(u,f);v(n,t,u*.5,f*.5,e,e*i,r)};r.PARTLY_CLOUDY_DAY=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);a(n,t,e*.625,o*.375,u*.75,u*i,r);f(n,t,e*.375,o*.625,u*.75,u*i,r)};r.PARTLY_CLOUDY_NIGHT=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);v(n,t,e*.667,o*.375,u*.75,u*i,r);f(n,t,e*.375,o*.625,u*.75,u*i,r)};r.CLOUDY=function(n,t,r){var u=n.canvas.width,e=n.canvas.height,o=Math.min(u,e);f(n,t,u*.5,e*.5,o,o*i,r)};r.RAIN=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);k(n,t,e*.5,o*.37,u*.9,u*i,r);f(n,t,e*.5,o*.37,u*.9,u*i,r)};r.SLEET=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);d(n,t,e*.5,o*.37,u*.9,u*i,r);f(n,t,e*.5,o*.37,u*.9,u*i,r)};r.SNOW=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);g(n,t,e*.5,o*.37,u*.9,u*i,r);f(n,t,e*.5,o*.37,u*.9,u*i,r)};r.WIND=function(n,t,r){var f=n.canvas.width,e=n.canvas.height,u=Math.min(f,e);p(n,t,f*.5,e*.5,u,u*i,0,2,r);p(n,t,f*.5,e*.5,u,u*i,1,2,r)};r.FOG=function(n,r,f){var o=n.canvas.width,h=n.canvas.height,s=Math.min(o,h),e=s*i;nt(n,r,o*.5,h*.32,s*.75,e,f);r/=5e3;var v=Math.cos(r*t)*s*.02,y=Math.cos((r+.25)*t)*s*.02,p=Math.cos((r+.5)*t)*s*.02,w=Math.cos((r+.75)*t)*s*.02,c=h*.936,l=Math.floor(c-e*.5)+.5,a=Math.floor(c-e*2.5)+.5;n.strokeStyle=f;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";u(n,v+o*.2+e*.5,l,y+o*.8-e*.5,l);u(n,p+o*.2+e*.5,a,w+o*.8-e*.5,a)};r.prototype={_determineDrawingFunction:function(n){return typeof n=="string"&&(n=r[n.toUpperCase().replace(/-/g,"_")]||null),n},add:function(n,t){var i;(typeof n=="string"&&(n=document.getElementById(n)),n!==null)&&(t=this._determineDrawingFunction(t),typeof t=="function")&&(i={element:n,context:n.getContext("2d"),drawing:t},this.list.push(i),this.draw(i,c))},set:function(n,t){var i;for(typeof n=="string"&&(n=document.getElementById(n)),i=this.list.length;i--;)if(this.list[i].element===n){this.list[i].drawing=this._determineDrawingFunction(t);this.draw(this.list[i],c);return}this.add(n,t)},remove:function(n){var t;for(typeof n=="string"&&(n=document.getElementById(n)),t=this.list.length;t--;)if(this.list[t].element===n){this.list.splice(t,1);return}},draw:function(n,t){var i=n.context.canvas;this.resizeClear?i.width=i.width:n.context.clearRect(0,0,i.width,i.height);n.drawing(n.context,t,this.color)},play:function(){var n=this;this.pause();this.interval=o(function(){for(var i=Date.now(),t=n.list.length;t--;)n.draw(n.list[t],i)},1e3/60)},pause:function(){this.interval&&(s(this.interval),this.interval=null)}};n.Skycons=r})(this);